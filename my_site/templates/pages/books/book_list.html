{% extends 'base.html' %}

{% block content %}
    <div class="fluid-conteiner">
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" href="/book/">Books</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/author/">Autors</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/friend/">Friends</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/publisher/">Publishers</a>
            </li>
            <li class="nav-item add-btn">
                <a class="nav-link" href="/book/create/">add book</a>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled" href="/author_book/create_many/">add authors & books</a>
            </li>
        </ul>
    </div>

    <div class="container">
        <table class="table" style="margin-top: 5px">
            <thead class="table-head">
                <tr>
                    <th scope="col">N</th>
                    <th scope="col">image</th>
                    <th scope="col">title / ISBN</th>
                    <th scope="col">Description</th>
                    <th scope="col">Year release</th>
                    <th scope="col">Author name</th>
                    <th scope="col">Country</th>
                    <th scope="col">Reader</th>
                    <th scope="col">Copy count</th>
                    <th scope="col">add/del copy</th>
                </tr>
            </thead>
            <tbody>
                {% for book in books %}
                <tr class="table-row">
                    <th scope="row">{{ forloop.counter }}</th>
                    <td><img src="{{ book.book_img.url }}" alt="{{ book.title }}"></td>
                    <td>
                        <h6><a href="{{ book.id }}/">{{ book.title }}</a></h6>
                        <p><small>({{ book.ISBN }})</small></p>
                    </td>
                    <td>{{ book.description }}</td>
                    <td>{{ book.year_release }}</td>
                    <td>{{ book.author.full_name }}</td>
                    <td>{{ book.author.country }}</td>
                    <td>{{ book.reader.full_name }}</td>
                    <td>{{ book.copy_count }}</td>
                    <td style="text-align: center">
                        <form action="book_increment/" method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            <input type="hidden" name="id" value="{{ book.id }}">
                            <input class="btn" type="submit" value="+">
                        </form>
                        <form action="book_decrement/" method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            <input type="hidden" name="id" value="{{ book.id }}">
                            <input class="btn btn-low" type="submit" value="-">
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}